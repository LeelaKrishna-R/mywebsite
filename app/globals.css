/* ============================================
   THEME VARIABLES
=============================================*/
html[data-theme='dark'] {
  --bg:#0f0f10;
  --surface:#16161a;
  --surface-2:#1e1e24;
  --border:#26262e;
  --text:#f5f6f7;
  --muted:#b6b8c0;
  --accent:#bd93f9;
  --accent-2:#9b6fe3;
  --chip-bg:#121218;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --radius:16px;
  --radius-sm:12px;
  --maxw:1100px;
}

html[data-theme='light'] {
  --bg:#fafafc;
  --surface:#ffffff;
  --surface-2:#f3f4f7;
  --border:#e4e6ef;
  --text:#16161a;
  --muted:#51525a;
  --accent:#7c3aed;
  --accent-2:#4f46e5;
  --chip-bg:#fff;
  --shadow:0 10px 30px rgba(0,0,0,.08);
  --radius:16px;
  --radius-sm:12px;
  --maxw:1100px;
}

/* ============================================
   GLOBAL RESET & BASE
=============================================*/
* {
  box-sizing:border-box;
  transition: background-color .25s ease, border-color .25s ease, color .25s ease;
}
@media (prefers-reduced-motion: reduce) {
  * { transition:none !important }
}

html, body {
  margin:0; padding:0;
  background:var(--bg); color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  line-height:1.6; scroll-behavior:smooth;
  min-height:100%;
}
@supports (min-height:100dvh) {
  html,body { min-height:100dvh }
}

a { color:var(--accent); text-decoration:none }
img { max-width:100%; height:auto }
.container { max-width:var(--maxw); margin:0 auto; padding:0 20px }
.small{font-size:14px}
.muted{color:var(--muted)}

/* ============================================
   NAVIGATION
=============================================*/
.nav {
  position:-webkit-sticky;
  position:sticky;
  top:0;
  background:rgba(15,15,16,0.95);
  -webkit-backdrop-filter:blur(8px);
  backdrop-filter:blur(8px);
  z-index:50;
  border-bottom:1px solid var(--border);
}
@supports not ((-webkit-backdrop-filter:blur(8px)) or (backdrop-filter:blur(8px))) {
  .nav { background:var(--surface) }
}
.nav-inner { display:flex; align-items:center; justify-content:space-between; padding:14px 0 }
.brand { display:flex; align-items:center; gap:10px; font-family:"Space Grotesk",Inter,sans-serif }
.brand-logo { width:36px; height:36px; border-radius:10px; overflow:hidden; border:1px solid var(--border) }
.brand span { font-weight:700; letter-spacing:.3px }

.nav-links { display:none; gap:18px; align-items:center; transition:all .3s ease-in-out }
.nav-links a {
  padding:8px 12px;
  border-radius:10px;
  border:1px solid transparent;
  transition:background .3s, transform .2s;
  min-height:44px; min-width:44px;
  display:inline-flex; align-items:center; justify-content:center;
}
.menu-btn { display:block; font-size:20px; transition:transform .3s; min-width:44px; min-height:44px; }
.menu-btn:hover { transform:rotate(90deg) }

@media (min-width:768px) {
  .nav-links { display:flex }
  .menu-btn { display:none }
}
@media (hover:hover) and (pointer:fine) {
  .nav-links a:hover { border-color:var(--border); background:var(--surface); transform:translateY(-2px) }
}

/* ============================================
   HERO
=============================================*/
.hero { padding:48px 0 24px }
.hero-grid { display:grid; grid-template-columns:1fr; gap:24px; align-items:center }
.kicker { display:inline-block; padding:6px 12px; border-radius:999px; background:rgba(189,147,249,.15); color:var(--accent); font-weight:600; border:1px solid rgba(189,147,249,.35) }
.title { font-family:"Space Grotesk",Inter,sans-serif; font-size:clamp(28px,6vw,36px); line-height:1.2; margin:14px 0 }
.subtitle { color:var(--muted); font-size:16px; max-width:42ch }
.cta { display:flex; flex-wrap:wrap; gap:12px; margin-top:22px }
.btn { padding:12px 16px; border-radius:12px; border:1px solid var(--border); background:var(--surface); color:var(--text); font-weight:600; cursor:pointer; min-height:44px; min-width:44px; display:inline-flex; align-items:center; justify-content:center }
.btn-primary { background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:#0f0f10; border:0 }

@media (hover:hover) and (pointer:fine) {
  .btn:hover { transform:translateY(-1px) }
}

.hero-card { background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow) }
.pfp { width:100px; height:100px; border-radius:50%; border:2px solid var(--border); object-fit:cover }
.meta { display:grid; grid-template-columns:1fr; gap:12px; margin-top:12px }
.meta .m { background:var(--surface-2); border:1px solid var(--border); padding:12px; border-radius:12px }
.meta .m b { display:block; font-size:12px; color:var(--muted) }

@media (min-width:768px) {
  .hero-grid { grid-template-columns:1.1fr .9fr; gap:40px }
  .title { font-size:clamp(32px,5vw,52px) }
  .subtitle { font-size:18px }
  .pfp { width:120px; height:120px }
  .meta { grid-template-columns:repeat(2,1fr) }
}

/* ============================================
   SECTION
=============================================*/
section { padding:48px 0; border-top:1px solid var(--border) }
.section-title { font-family:"Space Grotesk",Inter,sans-serif; font-size:24px; margin:0 0 20px }
@media (min-width:768px) {
  section { padding:56px 0 }
  .section-title { font-size:28px }
}

/* ============================================
   SKILLS SHOWCASE
=============================================*/
.skills-filters { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:14px }
.skills-filter {
  padding:8px 12px; border-radius:10px; border:1px solid var(--border);
  background:var(--surface); color:var(--text); cursor:pointer; font-weight:600;
  transition:transform .15s, background .2s, border-color .2s, color .2s;
  min-height:44px; min-width:44px;
  display:inline-flex; align-items:center; justify-content:center;
}
@media (hover:hover) and (pointer:fine) {
  .skills-filter:hover { transform:translateY(-1px); color:var(--accent) }
}
.skills-filter.active {
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  color:#0f0f10; border-color:transparent
}

.skills-grid {
  display:grid; gap:16px; grid-template-columns:1fr; max-width:var(--maxw); margin:0 auto;
}
.skill-box {
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:14px; transition:all .25s ease; cursor:pointer; min-height:44px;
}
.skill-box-title { margin:0 0 12px; font-size:14px; color:var(--muted); font-weight:700; letter-spacing:.3px; display:flex; justify-content:center; align-items:center; gap:8px }
.skill-pills { display:flex; flex-wrap:wrap; gap:10px }
.skill-pill {
  display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
  background:var(--chip-bg); border:1px solid var(--border); color:inherit; font-weight:600;
  min-height:44px; min-width:44px; justify-content:center; font-size:13px;
}
.skill-pill i { font-size:18px; color:var(--accent) }
.skill-pill span:last-child { margin-left:4px; font-size:11px; color:var(--muted) }

@media (min-width:700px) {
  .skills-grid { grid-template-columns:repeat(2,1fr) }
  .skill-box { padding:18px }
  .skill-box-title { font-size:16px }
  .skill-pill { font-size:14px; padding:8px 12px }
}
@media (min-width:1200px) {
  .skills-grid { grid-template-columns:repeat(auto-fit,minmax(300px,1fr)) }
}

/* ============================================
   PROJECTS
=============================================*/
.projects { display:grid; grid-template-columns:1fr; gap:20px }
.card { perspective:1000px; position:relative; height:100% }
.card-inner {
  position:relative; width:100%; height:100%;
  transform-style:preserve-3d;
  transition:transform .6s cubic-bezier(.4,.2,.2,1);
  min-height:300px;
  box-shadow:0 8px 20px rgba(0,0,0,.3)
}
.card.flipped .card-inner { transform:rotateY(180deg); box-shadow:0 10px 30px rgba(0,0,0,.5) }
.card-face {
  position:absolute; inset:0; width:100%; height:100%; backface-visibility:hidden;
  border-radius:var(--radius); background:var(--surface); border:1px solid var(--border);
  display:flex; flex-direction:column; overflow:hidden
}
.card-face.front { z-index:2 }
.card-face.back { transform:rotateY(180deg); background:var(--surface-2); padding:16px }
.thumb { position:relative; width:100%; aspect-ratio:16/9; border-bottom:1px solid var(--border); overflow:hidden }
@supports not (aspect-ratio:16/9) {
  .thumb { padding-top:56.25% }
  .thumb-img { position:absolute; top:0; left:0; width:100%; height:100% }
}
.thumb-img { width:100%; height:100%; object-fit:contain }
.body { padding:16px; flex:1; display:flex; flex-direction:column; gap:10px }
.tags { display:flex; flex-wrap:wrap; gap:8px; margin-top:auto }
.tag { font-size:12px; padding:6px 10px; background:rgba(189,147,249,.12); border:1px solid rgba(189,147,249,.35); color:var(--accent); border-radius:999px }

@media (min-width:600px) {
  .projects { grid-template-columns:repeat(2,1fr) }
}
@media (min-width:1000px) {
  .projects { grid-template-columns:repeat(auto-fit,minmax(280px,1fr)) }
}

/* ============================================
   CONTACT + SOCIALS
=============================================*/
.contact-card { background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:18px }

.social-wrap {
  display:inline-flex; flex-direction:column; align-items:center;
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:12px 16px;
}
.social-title { display:flex; align-items:center; gap:12px; margin-bottom:10px }
.social-title .circle { display:grid; place-items:center; width:42px; height:42px; border-radius:50%; background:var(--surface-2); border:1px solid var(--border) }
.social-title h3 { margin:0; font-size:18px }
.social-icons { display:flex; gap:14px; align-items:center; flex-wrap:wrap }
.social-icon {
  display:grid; place-items:center;
  width:44px; height:44px;
  border-radius:999px; background:var(--surface-2); border:1px solid var(--border);
  color:var(--text); min-width:44px; min-height:44px;
  transition:transform .15s ease, box-shadow .25s ease, background .2s ease, color .2s ease;
}
@media (hover:hover) and (pointer:fine) {
  .social-icon:hover { transform:translateY(-3px) scale(1.03); box-shadow:0 10px 24px rgba(0,0,0,.35); background:var(--surface); color:var(--accent) }
}

.profile-socials { display:flex; gap:12px; margin-top:6px }
.profile-socials a {
  display:grid; place-items:center;
  width:36px; height:36px; border-radius:999px; background:var(--surface-2); border:1px solid var(--border); color:var(--text);
  transition:transform .2s ease, box-shadow .25s ease, background .25s ease, color .25s ease;
  min-width:44px; min-height:44px;
}
.profile-socials a img { width:18px; height:18px }
@media (hover:hover) and (pointer:fine) {
  .profile-socials a:hover { transform:translateY(-2px) scale(1.05); box-shadow:0 6px 16px rgba(0,0,0,0.35); background:var(--surface); color:var(--accent) }
}
.profile-socials a img { width:18px; height:18px }
@media (hover: hover) and (pointer: fine) {
  .profile-socials a:hover {
    transform:translateY(-2px) scale(1.05);
    box-shadow:0 6px 16px rgba(0,0,0,0.35);
    background:var(--surface);
    color:var(--accent);
  }
}

/* ============================================
   FOOTER
=============================================*/
footer { border-top:1px solid var(--border); padding:24px 0; color:var(--muted); text-align:center }

/* ============================================
   BLOG
=============================================*/

/* Dark mode code blocks */
html[data-theme='dark'] pre code {
  background: #0d1117 !important;
  color: #c9d1d9 !important;
}

/* Light mode code blocks */
html[data-theme='light'] pre code {
  background: #f6f8fa !important;
  color: #24292f !important;
  border: 1px solid #d0d7de;
}

html[data-theme='dark'] :not(pre) > code {
  background: rgba(110, 118, 129, 0.4);
  color: #e5e5e5;
}

html[data-theme='light'] :not(pre) > code {
  background: #f6f8fa;
  color: #24292f;
  border: 1px solid #d0d7de;
}

.blog-img-wrap { display:block; margin:20px 0; text-align:center }
.blog-img { border-radius:12px; object-fit:cover; max-width:100%; height:auto; box-shadow:0 6px 20px rgba(0,0,0,0.3) }
.blog-img-caption { display:block; margin-top:6px; font-size:13px; color:var(--muted); font-style:italic }

.blog-card {
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:14px;
  padding:18px;
  transition: transform 0.25s ease, box-shadow 0.3s ease, border-color 0.25s ease;
  cursor: pointer
}
@media (hover: hover) and (pointer: fine) {
  .blog-card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.35); border-color: var(--accent) }
}
.blog-card.open { border-color: var(--accent); box-shadow: 0 8px 28px rgba(155,111,227,0.45) }
.blog-title-link { font-size:18px; font-weight:600; color:var(--accent); transition: color 0.2s ease }
.blog-title-link:hover { color:var(--accent-2) }
.blog-meta { font-size:14px; color:var(--muted); line-height:1.6; transition:all 0.35s ease }
.blog-list { display:flex; flex-direction:column; gap:12px }
.blog-meta.collapsed { max-height: 0; opacity: 0; overflow: hidden }
.blog-meta.expanded { max-height: 200px; opacity: 1; margin-top: 10px }

/* ============================================
   SPOTIFY TILE
=============================================*/
.spotify-tile {
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:14px 18px;
  border-radius:16px;
  background:linear-gradient(145deg, rgba(155,111,227,0.15), rgba(189,147,249,0.08));
  border:1px solid rgba(155, 111, 227, 0.25);
  -webkit-backdrop-filter:blur(10px);
  backdrop-filter:blur(10px);
  text-decoration:none;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
@media (hover: hover) and (pointer: fine) {
  .spotify-tile:hover { transform:translateY(-3px); box-shadow:0 8px 24px rgba(155, 111, 227, 0.35) }
}
.spotify-tile.compact { max-width:300px; padding:8px 12px }
.spotify-album { border-radius:8px; width:44px; height:44px; box-shadow:0 3px 10px rgba(0,0,0,0.3); flex-shrink:0 }
.spotify-info { display:flex; flex-direction:column; justify-content:center; flex:1; min-width:0; overflow:hidden }
.spotify-status-title { font-size:12px; font-weight:600; color:var(--accent); text-shadow:0 0 8px rgba(189,147,249,0.8); margin-bottom:2px }
.spotify-title { font-size:14px; font-weight:600; color:var(--text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.spotify-artist { font-size:12px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.spotify-equalizer { display:flex; gap:3px; align-items:flex-end; height:24px; margin-left:auto }
.spotify-equalizer span {
  display:block; width:3px; height:8px;
  border-radius:2px;
  background:linear-gradient(180deg,#a855f7,#9333ea);
  box-shadow:0 0 6px rgba(168,85,247,0.9);
  animation:equalize 1s infinite ease-in-out;
  transform-origin:bottom center
}
.spotify-equalizer span:nth-child(1){animation-delay:-0.2s}
.spotify-equalizer span:nth-child(2){animation-delay:-0.4s}
.spotify-equalizer span:nth-child(3){animation-delay:-0.6s}
.spotify-equalizer span:nth-child(4){animation-delay:-0.8s}
.spotify-equalizer span:nth-child(5){animation-delay:-1s}
@keyframes equalize{0%,100%{transform:scaleY(0.3)}50%{transform:scaleY(1)}}

/* ============================================
   THEME TOGGLE
=============================================*/
.theme-toggle {
  width:52px;
  height:28px;                  /* pill shape preserved */
  border-radius:999px;
  border:1px solid var(--border);
  background:var(--surface-2);
  position:relative;
  cursor:pointer;
  transition: background 0.3s ease, border-color 0.3s ease;
}

/* Invisible larger hitbox for accessibility */
.theme-toggle::after {
  content:"";
  position:absolute;
  top:-8px; left:-8px;
  right:-8px; bottom:-8px;
}

.theme-toggle .knob {
  position:absolute;
  top:50%; left:2px;
  transform:translateY(-50%);
  width:22px;
  height:22px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  box-shadow:0 2px 6px rgba(0,0,0,0.4);
  transition:left 0.3s ease, background 0.3s ease;
  display:flex; align-items:center; justify-content:center;
}

.theme-toggle.light .knob { left:1px }
.theme-toggle.dark .knob { left:26px }


/* ============================================
   CASE STUDY PAGES
=============================================*/
.case-study { background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:28px; box-shadow:var(--shadow) }
.case-study h1 { margin-top:0 }
.case-study .cs-section { margin-top:28px }
.case-study .cs-section h3 { margin-bottom:10px; font-size:20px; color:var(--accent) }
.case-study ul { padding-left:20px; margin-top:8px; margin-bottom:0; line-height:1.6 }

/* ============================================
   CURSOR BUBBLE
=============================================*/
.cursor-main, .cursor-trail { 
  position:fixed; border-radius:50%; pointer-events:none; transform:translate(-50%,-50%); z-index:9999;
  transform:translateZ(0); -webkit-transform:translateZ(0); will-change:transform;
}
.cursor-main { width:22px; height:22px; background:#8be9fd; box-shadow:0 0 20px #8be9fd, 0 0 40px rgba(139,233,253,0.6); mix-blend-mode: lighten; animation:pulseCursor 2.2s ease-in-out infinite; }
.cursor-trail { width:12px; height:12px; background:#bd93f9; opacity:0.75; box-shadow:0 0 15px #bd93f9, 0 0 30px rgba(189,147,249,0.7); mix-blend-mode: lighten; animation:pulseCursor 2.4s ease-in-out infinite; }
html[data-theme='light'] .cursor-main { background:#0891b2; box-shadow:0 0 12px rgba(8,145,178,0.6), 0 0 28px rgba(8,145,178,0.45); mix-blend-mode: multiply; }
html[data-theme='light'] .cursor-trail { background:#7c3aed; opacity:0.7; box-shadow:0 0 12px rgba(124,58,237,0.55), 0 0 26px rgba(124,58,237,0.45); mix-blend-mode: multiply; }
@keyframes pulseCursor { 0%,100%{transform:translate(-50%,-50%) scale(1);opacity:1}50%{transform:translate(-50%,-50%) scale(1.15);opacity:.85} }
@media (hover: hover) and (pointer: fine) and (min-width:1024px) { html, body { cursor:none } }

/* ============================================
   CHIP BUTTONS
=============================================*/
button.chip {
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text) !important;
  font-weight: 600;
  cursor: pointer;
  transition: transform .15s, background .25s, border-color .25s, color .25s, box-shadow .25s;
  min-height:44px; min-width:44px;
  display:inline-flex; align-items:center; justify-content:center;
}
button.chip:hover:not(.active) {
  transform: translateY(-2px);
  background: rgba(189,147,249,0.12);
  border-color: var(--accent);
  color: var(--text) !important;
  box-shadow: 0 0 10px rgba(189,147,249,.25);
}
button.chip.active {
  background: linear-gradient(135deg,var(--accent),var(--accent-2));
  color: #0f0f10 !important;
  border-color: transparent;
  box-shadow: 0 6px 16px rgba(189,147,249,.35);
}
.fade-out { opacity:0 !important; transition:opacity 0.8s ease !important }

/* ============================================
   BLOG CODE BLOCKS
=============================================*/
html[data-theme='dark'] pre[class*="language-"] {
  background: #0d1117; 
  color: #c9d1d9;
  border: 1px solid #30363d;
  border-radius: 10px;
  padding: 16px;
  overflow-x: auto;
  font-family: "Fira Code", "JetBrains Mono", monospace;
  font-size: 14px;
  line-height: 1.6;
  margin: 1.25em 0;
  box-shadow: 0 4px 14px rgba(0,0,0,0.3);
}

html[data-theme='light'] pre[class*="language-"] {
  background: #f0f2f5;
  color: #24292f;
  border: 1px solid #d0d7de;
  border-radius: 10px;
  padding: 16px;
  overflow-x: auto;
  font-family: "Fira Code", "JetBrains Mono", monospace;
  font-size: 14px;
  line-height: 1.6;
  margin: 1.25em 0;
  box-shadow: 0 4px 14px rgba(0,0,0,0.12);
}

code[class*="language-"] {
  font-family: inherit;
  font-size: inherit;
}

:not(pre) > code {
  background: rgba(110, 118, 129, 0.4);
  border-radius: 6px;
  padding: 0.2em 0.4em;
  font-size: 85%;
  font-family: "Fira Code", monospace;
  color: #e5e5e5;
}

/* ============================================
   PRISM TOKEN COLORS
=============================================*/
html[data-theme='dark'] .token.comment,
html[data-theme='dark'] .token.prolog,
html[data-theme='dark'] .token.doctype,
html[data-theme='dark'] .token.cdata { color: #8b949e; font-style: italic }
html[data-theme='dark'] .token.punctuation { color: #c9d1d9 }
html[data-theme='dark'] .token.property,
html[data-theme='dark'] .token.tag,
html[data-theme='dark'] .token.boolean,
html[data-theme='dark'] .token.number,
html[data-theme='dark'] .token.constant,
html[data-theme='dark'] .token.symbol { color: #f78c6c }
html[data-theme='dark'] .token.selector,
html[data-theme='dark'] .token.attr-name,
html[data-theme='dark'] .token.string,
html[data-theme='dark'] .token.char,
html[data-theme='dark'] .token.builtin { color: #a5d6ff }
html[data-theme='dark'] .token.keyword { color: #ff7b72 }
html[data-theme='dark'] .token.function,
html[data-theme='dark'] .token.class-name { color: #79c0ff }
html[data-theme='dark'] .token.operator,
html[data-theme='dark'] .token.entity,
html[data-theme='dark'] .token.url { color: #d2a8ff }

html[data-theme='light'] .token.comment,
html[data-theme='light'] .token.prolog,
html[data-theme='light'] .token.doctype,
html[data-theme='light'] .token.cdata { color: #6e7781; font-style: italic }
html[data-theme='light'] .token.punctuation { color: #24292f }
html[data-theme='light'] .token.property,
html[data-theme='light'] .token.tag,
html[data-theme='light'] .token.boolean,
html[data-theme='light'] .token.number,
html[data-theme='light'] .token.constant,
html[data-theme='light'] .token.symbol { color: #0550ae }
html[data-theme='light'] .token.selector,
html[data-theme='light'] .token.attr-name,
html[data-theme='light'] .token.string,
html[data-theme='light'] .token.char,
html[data-theme='light'] .token.builtin { color: #0a3069 }
html[data-theme='light'] .token.keyword { color: #cf222e }
html[data-theme='light'] .token.function,
html[data-theme='light'] .token.class-name { color: #8250df }
html[data-theme='light'] .token.operator,
html[data-theme='light'] .token.entity,
html[data-theme='light'] .token.url { color: #0969da }

/* ============================================
   LAYOUT STRUCTURE FOR STICKY FOOTER
============================================= */
body {
  display:flex;
  flex-direction:column;
  min-height:100%;
}
@supports (min-height:100dvh) {
  body { min-height:100dvh }
}
main { flex:1 0 auto }
footer {
  flex-shrink:0;
  border-top:1px solid var(--border);
  padding:24px 0;
  color:var(--muted);
  text-align:center;
  margin-top:auto;
}
